<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Matka 69</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />

    <link rel="stylesheet" href="/css/account.css" />
    <link rel="stylesheet" href="/css/slider.css" />
    <link rel="stylesheet" href="/css/headerlogin.css" />
    <link rel="stylesheet" href="/css/footer.css" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/js/rendomsidebar.js"></script>
    <script src="/js/betbox.js"></script>
    <script src="/js/footer.js"></script>
  </head>
  <body>
    <!-- ==================================================Header======================================= -->
    <%- include('partials/header') %>

    <div class="header"></div>
    <!-- ========================= overflow header solve -->

    <!-- +++++++++++++++++++++++++++ body stert +++++++++++++++++++++++ -->

    <div style="height: 45rem">
      <div class="menu">
        <!-- Menu -->
        <div class="menu-item" id="myProfileBtn">My Profile <i>â€º</i></div>

        <!-- Hidden Profile Div -->
        <div class="profile-div" id="profileDiv">
          <!-- DIV 1 -->
          <div class="account-card" id="accountCard">
            <div class="account-header">Account Details</div>
            <table class="account-table">
              <tr>
                <td class="label">Name</td>
                <td><%= user.username %></td>
              </tr>

              <tr>
                <td class="label">Refer Code</td>
                <td><%= user.referCode %></td>
              </tr>

              <tr>
                <td class="label">Referred By</td>
                <td><%= user.referredBy ? user.referredBy : "N/A" %></td>
              </tr>

              <tr>
                <td class="label">Available Balance</td>
                <td style="color: green">
                  â‚¹ <%= user.wallet.toLocaleString() %>
                </td>
              </tr>

              <tr>
                <td class="label">Status</td>
                <td
                  style="color:<%= user.userStatus==='suspended'?'red':'green' %>;"
                >
                  <%= user.userStatus %>
                </td>
              </tr>

              <tr>
                <td class="label">Password</td>
                <td>
                  **********
                  <a href="#" class="edit-btn" id="editBtn">Edit <i>âœŽ</i></a>
                </td>
              </tr>
            </table>
          </div>

          <!-- DIV 2 (Modal) -->
          <div class="overlay" id="modalOverlay">
            <div class="modal">
              <div class="modal-header">
                Change Password
                <span class="close-btn" id="closeModal">&times;</span>
              </div>

              <form id="resetForm">
                <!-- Hidden User ID -->
                <input
                  type="hidden"
                  id="userId"
                  name="userId"
                  value="<%= user._id %>"
                />

                <div class="modal-body">
                  <div class="input-group">
                    <label>New Password <span>*</span></label>
                    <input
                      type="password"
                      name="newPassword"
                      id="newPass"
                      required
                    />
                  </div>

                  <div class="input-group">
                    <label>Confirm Password <span>*</span></label>
                    <input
                      type="password"
                      name="confirmNewPassword"
                      id="confirmPass"
                      required
                    />
                  </div>
                </div>

                <div class="modal-footer">
                  <button type="submit" class="btn btn-confirm">Confirm</button>
                  <button type="button" class="btn btn-cancel" id="cancelModal">
                    No
                  </button>
                </div>
              </form>

              <!-- ðŸ§  Message Box -->
              <div
                id="msgBox"
                style="
                  display: none;
                  padding: 10px;
                  background: #ffdddd;
                  border: 1px solid #f44336;
                  color: #a70000;
                  margin-top: 10px;
                  border-radius: 5px;
                "
              ></div>
            </div>
          </div>
        </div>

        <a href="/accountsettlement/<%= user._id %>"
          ><div class="menu-item">Account Statement <i>â€º</i></div></a
        >
        <a href="/adminseepersonallyuserbethistory/<%= user._id %>">
          <div class="menu-item">Bets History <i>â€º</i></div>
        </a>
      </div>
    </div>
    <!-- =================================== Footer Start ============================== -->
        <% if (role === 'admin') { %>
  <%- include('partials/adminFooter') %>
<% } else if (role === 'master') { %>
  <%- include('partials/masterFooter') %>
<% } else { %>
  <%- include('partials/agentFooter') %>
<% } %>
    <script src="/js/myProfile.js"></script>
    <script src="/js/resetbyadmin.js"></script>
  </body>
</html>
