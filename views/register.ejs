<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matka Game Login</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>


    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="/style.css" />

</head>

<body class="flex items-center justify-center p-4">

    <!-- Main Login Card Container -->
    <!-- Added 'relative' class to contain the absolute close button -->
    <div id="login-card" class="w-full max-w-md mx-auto p-8 sm:p-10 rounded-2xl relative">

        <!-- CLOSE ICON/BUTTON -->
        <a href="/">
            <button
                class="absolute top-4 right-4 p-2 rounded-full bg-white/70 hover:bg-white transition duration-200 text-gray-700 hover:text-red-600 shadow-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50">
                <!-- SVG Cross Icon (X) -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </a>

        <!-- Matka Logo/Title -->
        <header class="text-center mb-10">
            <div style="display: flex; justify-content: center; align-items: center;">
                <h1
                    style=" height: 10rem; width: 10rem; background-repeat: no-repeat; background-size: cover;   background-image: url(https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiBo8f6XijhHel9ZzxyKA7vcCFZbE-G11O4aANIuBH3gU13pPmX-aYBxRnN2TCuYKyhmC1I2VN1gzeKAdePAr2dV3fSWuj4_jI9d2jvEO_EqBB3ceQypObtCdZN-xYZCV3q9Yeelu2qhIcTLXt8WpLMru5C-Qu5S-31iZwaBk32joZZtEYHS_c88NDuz7bG/s269/1000111387-removebg-preview.png);">
                </h1>
            </div>
            <p class="text-lg text-gray-600 font-medium">Welcome! Register to Play.</p>
        </header>

        <!-- Login Form -->
       <form id="registerForm" action="/register" method="POST" class="space-y-6">
             <%- include('partials/errors')%>
            <!--  Username Input -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                <input type="text" id="username" name="username" value="<%= oldInput.username ? oldInput.username : '' %>" placeholder="Enter your username"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150"
                    required>
            </div>

            <!-- Password Input -->
            <div class="mb-8">
                <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                <input type="password" id="password" name="password" value="<%= oldInput.password ? oldInput.password : '' %>" placeholder="Password"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150"
                    required>
            </div>

            <!-- Confirm Password Input -->
            <div class="mb-8">
                <label class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150"
                    required>

                <!-- ðŸŸ¢ THIS IS WHERE matchMsg GOES -->
                <small id="matchMsg" class="text-sm mt-1 block"></small>
            </div>

            <!-- Referal Code -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Referal Code</label>
                <input type="text" id="referCode" name="referCode" value="<%= oldInput.referCode ? oldInput.referCode : '' %>" placeholder="Enter your id"
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 transition duration-150"
                    required>
            </div>

            <!-- Forgot Password Link (REMOVED) -->

            <!-- Register Button with Animation -->
            <button type="submit"
                class="login-button w-full text-white font-bold py-3 rounded-xl text-lg tracking-wider">
                Register
            </button>

            <!-- Register Link -->
            <p class="text-center text-gray-600 pt-4">
                Already have an account?
                <a href="/login" class="font-bold text-red-600 hover:text-red-700 transition duration-150">Login Now</a>
            </p>
        </form>
    </div>

   <script>
  const form = document.getElementById("registerForm");
  const password = document.getElementById("password");
  const confirmPassword = document.getElementById("confirmPassword");
  const matchMsg = document.getElementById("matchMsg");

  confirmPassword.addEventListener("input", () => {
    if (confirmPassword.value === "") {
      matchMsg.textContent = "";
    } else if (password.value === confirmPassword.value) {
      matchMsg.textContent = "âœ… Passwords match";
      matchMsg.style.color = "green";
    } else {
      matchMsg.textContent = "âŒ Passwords do not match";
      matchMsg.style.color = "red";
    }
  });

  // ðŸ§  Stop form submission if passwords don't match
  form.addEventListener("submit", (e) => {
    if (password.value !== confirmPassword.value) {
      e.preventDefault(); // Stop form from submitting
      alert("Passwords do not match!");
    }
  });
</script>
</body>


</html>